{# 모듈화 하기 #}
{% extends 'blog/base.html' %}
{% block main-area %}


    <!-- Featured blog post-->
    <!-- for 문을 사용해서 블로그 글 looping -->
    {% for post in post_list %}
    <div class="card mb-4">

        {% if post.uploaded_image %}
            <a href="#!"><img class="card-img-top" src={{ post.uploaded_image.url }} alt="..." /></a>
        {% else %}
            <img class="img-fluid rounded"
                    src="https://dummyimage.com/900x400/ced4da/6c757d.jpg" alt="..." />
        {%  endif %}

        <div class="card-body">
            <div class="small text-muted">

                {% if post.category.name %}
                    카테고리: {{ post.category.name }},
                {%  else %}
                    카테고리: 미분류,
                {%  endif %}

                글쓴날: {{ post.created_date }},
{#                글쓴이: {{ post.author.first_name }}#}
                글쓴이: {{ post.author}}

            </div>
            <h2 class="card-title"> {{ post.title }} </h2>
            <p class="card-text"> {{ post.content }} </p>
            <a class="btn btn-primary" href={{ post.get_absolute_url }}>Read more →</a>
        </div>
    </div>
    {% endfor %}


    <!-- Pagination-->
    <nav aria-label="Pagination">
        <hr class="my-0" />
        <ul class="pagination justify-content-center my-4">
            <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Newer</a></li>
            <li class="page-item active" aria-current="page"><a class="page-link" href="#!">1</a></li>
            <li class="page-item"><a class="page-link" href="#!">2</a></li>
            <li class="page-item"><a class="page-link" href="#!">3</a></li>
            <li class="page-item disabled"><a class="page-link" href="#!">...</a></li>
            <li class="page-item"><a class="page-link" href="#!">15</a></li>
            <li class="page-item"><a class="page-link" href="#!">Older</a></li>
        </ul>
    </nav>

{% endblock %}

{% block writing-area %}
{#    로그인한 사용자만 글쓰기 버튼을 볼 수 있다#}
    {% load socialaccount %}
    {% if user.is_authenticated %}
        <button><a href="/blog/create/">글쓰기</a></button>
    {% else %}

    {% endif %}
{% endblock %}


{% block header-area %}
        <h1 class="fw-bolder">안녕 여기는 블로그 메인이지</h1>
        <p class="lead mb-0">내 블로그야!</p>
{% endblock %}